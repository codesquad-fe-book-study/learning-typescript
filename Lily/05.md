## Chapter05 함수

## 5.1 함수 매개변수

### 5.1.1 필수 매개변수 required parameter

- 타입스크립트는 함수에 선언된 모든 매개변수가 필수라고 가정한다.
  - 함수가 너무 적거나 많은 인수로 호출되면 타입스크립트는 인수의 개수를 계산한다.

### 5.1.2 선택적 매개변수 optional parameter : `?:`

- 선택적 매개변수는 항상 암묵적으로 undefined가 될 수 있다.
- 함수에서 사용되는 모든 선택적 매개변수는 마지막 매개변수여야 한다.

### 5.1.3 기본 매개변수

### 5.1.4 나머지 매개변수 rest parameter

- 스프레드 연산자는 함수 선언의 마지막 매개변수에 위치한다.
- 해당 매개변수에서 시작해 함수에 전달된 ‘나머지’ 인수가 모두 단일 배열에 저장되어야 함을 나타낸다.

```tsx
function singAllTheSongs(singer: string, ...songs: string[]) {
  // ...
}
```

## 5.2 반환 타입

- 타입스크립트닌 직각적perceptive이다.
- 함수가 반환할 수 있는 가능한 모든 값을 이해하면 함수가 반환하는 타입을 알 수 있다.

```tsx
// singSongs(songs: string[]): number
function singSongs(songs: string[]) {
  for (const song of songs) {
    console.log(`${song}`)
  }

  return songs.length
}
```

### 5.2.1 명시적 반환 타입

- 변수와 마찬가지로 타입 애너테이션을 사용해 함수의 반환 타입을 명시적으로 선언하지 않는 것이 좋다.
- 그러나 특히 함수에서 반환 타입을 명시적으로 선언하는 방식이 매우 유요할 때가 종종 있다.
  - 가능한 반환 값이 많은 함수가 항상 동일한 타입의 값을 반환하도록 강제
  - 재귀 함수의 반환 타입을 통해 타입을 유추하지 않음
  - 수백 개 이상의 타입스크립트 파일이 있는 매우 큰 프로젝트에서 타입스크립트 타입 검사 속도를 높일 수 있음
- 화살표 함수에서의 명시적 반환 타입

```tsx
const singSongsRecuresive = (songs: string[], count = 0): number =>
  songs.lenght ? singSongsRecuresive(songs.slice(1), count++) : count
```

## 5.3 함수 타입

- 자바스크립트에서는 함수를 값으로 전달할 수 있다.
  - 함수를 가지기 위한 매개변수 또는 변수의 타입을 선언하는 방법이 필요하다.
- nothingInGivesString 변수의 타입은 매개 변수가 없는 string을 반환하는 함수인 경우 아래와 같이 선언한다.

```tsx
let nothingInGivesString: () => string
```

- 함수 타입은 콜백 함수를 설명하는데 자주 사용된다.

### 5.3.1 함수 타입 괄호

### 5.3.2 매개변수 타입 추론

### 5.3.3 함수 타입 별칭

## 5.4 그 외 반환 타입

### 5.4.1 void 반환 타입

- 일부 함수는 어떤 값도 반환하지 않는다.
  - return 문이 없는 함수
  - 값을 반환하지 않는 return 문을 가진 함수
- 타입스크립트는 void 키워드를 사용해 반환 값이 없는 함수의 반환 타입을 확인할 수 있다.
- 반환 타입을 void로 선언한 함수는 값 반환을 허용하지 않는다.
- 함수 타입 선언 시 void 반환 타입은 매우 유용하다.
- void 사용하면 함수에서 반환되는 모든 값은 무시된다.
- 자바스크립트 함수는 실젯 값이 반환되지 않으면 기본으로 모두 undefined를 반환하지만,
  - void는 undefined와 동일하지 않다.
  - 아무 값도 반환하고 싶지 않은 경우, 어떤 값을 반환하도록 강요하지 않기 때문에 void 반환 타입이 더 권장된다.
- Quiz
  이 코드가 컴파일을 통과할 수 있을까요?
  ```tsx
  function sendRequest(data: string, cd: (response: any) => void) {
    // ... sending a request with "data"
    return cd({ data: 'Hi there!' })
  }

  sendRequest('Send this!', response => {
    console.log(response)
    return true
  })
  ```
  1. 아니요. 제공된 콜백 함수가 값을 반환하기 때문에 오류가 발생한다.
  2. 아니요. `sendRequest`가 불리언을 반환하도록 지정되어 있지 않다.
  3. 네.
  - 정답
    3번. 콜백 함수는 자신이 전달되는 인수가 반환 값을 기대하지 않는 경우에도 값을 반환할 수 있다.

### 5.4.2 never 반환 타입

- 일부 함수는 값을 반환하지 않을 뿐만 아니라 반환할 생각도 전혀 없습니다.
- nerver 반환 함수는 (의도적으로) 항상 오류를 발생시키거나 무한 루프를 실행하는 함수이다.

```tsx
function fail(message: string): never {
  throw new Error(`Invariant failure: ${message}.`)
}
```

## 5.5 함수 오버로드

- 오버로드 시그니처 overload signature: 일부 자바스크립트 함수는 선택적 매개변수와 나머지 매개변수만으로 표현할 수 없는 매우 다른 매개변수들로 호출될 수 있다.
  - 하나의 최종 구현 시그니처 implementation signature와 그 함수의 본문 앞에 서로 다른 버전의 함수 이름, 매개변수, 반환 타입을 여러번 선언한다.
- 함수 오버로드는 복잡하고 설명하기 어려운 함수 타입에 사용하는 최후의 수단이다.
  - 함수를 단순하게 유지하고 가능하면 함수 오버로드를 사용하지 않는 것이 좋다.
